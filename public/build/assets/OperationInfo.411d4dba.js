import{d as y,u as b,i as x,a as k,o as O,b as C,r as d,c as E,e as I,j as a,f as o,w as s,l as n,g as T,_ as q,h as j,A as r,m as f}from"./app.10579c01.js";import{Q as i}from"./QTd.f19052d1.js";import{Q as B}from"./QTr.00779787.js";import{Q as P}from"./QTable.4d294d9e.js";import"./QSeparator.0566634d.js";import"./QMarkupTable.d2f16f87.js";import"./QSelect.32be28f9.js";import"./QItemLabel.1f7b55df.js";import"./QLinearProgress.84b4c331.js";import"./QCheckbox.bf3f01de.js";import"./use-checkbox.45f82c4c.js";const Q={class:"q-ma-md"},$={class:"row justify-center"},A={class:"col-10"},R=a("div",{class:"row full-width flex-center q-pt-xs myRoundTop bg-primary"},[a("div",{class:"col-11 flex flex-center"},[a("span",{class:"text-h4"},"Operations")])],-1),S={class:"row full-width justify-end"},V={class:"col-3 flex justify-end q-pt-sm q-pr-sm"},X={__name:"OperationInfo",setup(D){T(e=>({"6ef7c63e":h.value}));const p=y(()=>q(()=>import("./AddOperationInfo.f13fd328.js"),["assets/AddOperationInfo.f13fd328.js","assets/app.10579c01.js","assets/app.4fce15f2.css"]));let l=b();x("can");let c=k();O(async()=>{document.title="Evestuff - Operations",l.getOperationSheetInfo(),Echo.private("operationinfopage").listen("OperationInfoPageUpdate",e=>{e.flag.flag==1,e.flag.flag==2&&l.updateOperationPageInfo(e.flag.message),e.flag.flag==3&&l.removeOperationPageInfo(e.flag.message)})}),C(async()=>{Echo.leave("operationinfopage")});let u=d({sortBy:"actions",descending:!1,page:1,rowsPerPage:0}),m=e=>{c.push({path:`/operationinfo/${e}`})},_=async e=>{await axios({method:"DELETE",url:"/api/operationinfosheet/"+e,withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"}})},g=d([{name:"title",align:"left",required:!1,label:"Title",classes:"text-no-wrap",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"status",required:!1,align:"left",label:"Status",classes:"text-no-wrap",field:e=>e.status.name,format:e=>`${e}`,sortable:!0,filter:!0},{name:"start",required:!1,align:"right",label:"Start",classes:"text-no-wrap",field:e=>e.start,format:e=>`${e}`,sortable:!0,filter:!0},{name:"actions",required:!1,align:"right",label:"",classes:"text-no-wrap",field:e=>e.id,format:e=>`${e}`,sortable:!1,filter:!1}]),h=E(()=>{let e=30;return l.size.height-e+"px"});return(e,w)=>(j(),I("div",Q,[a("div",$,[a("div",A,[o(P,{title:"Connections",class:"myTableOperationInfo myRound bg-webBack",rows:n(l).operationInfo,columns:g.value,"table-class":" text-webway","table-header-class":" text-weight-bolder","row-key":"id","no-data-label":"No Operations",dark:"",dense:"",ref:"tableRef",rounded:"","hide-bottom":"",pagination:u.value},{top:s(t=>[R,a("div",S,[a("div",V,[o(n(p))])])]),body:s(t=>[o(B,{props:t},{default:s(()=>[o(i,{key:"title",props:t},{default:s(()=>[a("div",null,r(t.row.name),1)]),_:2},1032,["props"]),o(i,{key:"status",props:t},{default:s(()=>[a("div",null,r(t.row.status.name),1)]),_:2},1032,["props"]),o(i,{key:"start",props:t},{default:s(()=>[a("div",null,r(t.row.start),1)]),_:2},1032,["props"]),o(i,{key:"actions",props:t},{default:s(()=>[a("div",null,[o(f,{rounded:"",push:"",color:"primary",onClick:v=>n(m)(t.row.link),label:"view"},null,8,["onClick"]),o(f,{rounded:"",padding:"xs","text-color":"red",flat:"",onClick:v=>n(_)(t.row.link),icon:"fa-solid fa-trash-can"},null,8,["onClick"])])]),_:2},1032,["props"])]),_:2},1032,["props"])]),_:1},8,["rows","columns","pagination"])])])]))}};export{X as default};
