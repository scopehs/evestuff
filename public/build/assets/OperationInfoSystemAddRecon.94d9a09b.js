import{Q as _}from"./QSelect.32be28f9.js";import{u as A,r as f,c as m,h as Q,e as g,f as t,w as l,p as I,l as n,q as R,aD as h,aE as k,v,m as u,aX as B,G as b}from"./app.10579c01.js";import"./QItemLabel.1f7b55df.js";const V={__name:"OperationInfoSystemAddRecon",props:{item:[Array,Object]},setup(w){const p=w;let i=A(),a=f(),s=f(),c=m(()=>s.value?r.value.filter(o=>o.name.toLowerCase().includes(s.value.toLowerCase())):r.value),C=(o,e)=>{e(()=>{s.value=o.toLowerCase(),c.value.length>0&&o&&(a.value=c.value[0])})},r=m(()=>i.operationInfoRecon.filter(e=>e.operation_info_id==i.operationInfoPage.id&&e.system_id!=p.item.id)),y=()=>{a.value=null},x=async()=>{var o={recon:a.value.id,opID:i.operationInfoPage.id};await B({method:"post",url:"/api/operationinfosystemreconupdate/"+p.item.id,withCredentials:!0,data:o,headers:{Accept:"application/json","Content-Type":"application/json"}})},F=()=>{};return(o,e)=>(Q(),g("div",null,[t(u,{color:"positive",padding:"none",icon:"fa-solid fa-plus",flat:"",size:"xs"},{default:l(()=>[t(I,{onBeforeHide:e[2]||(e[2]=d=>n(y)()),offset:[50,10]},{default:l(()=>[t(R,{class:"myRoundTop",style:{width:"250px"}},{default:l(()=>[t(h,null,{default:l(()=>[t(_,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=d=>a.value=d),options:r.value,"option-label":"name","option-value":"id",rounded:"",onFilter:n(C),onFilterAbort:n(F),outlined:"","use-input":"",label:"Add cyno to system"},null,8,["modelValue","options","onFilter","onFilterAbort"])]),_:1}),t(k,{align:"between"},{default:l(()=>[v(t(u,{disable:!a.value,rounded:"",color:"positive",class:"q-px-md",label:"add",onClick:e[1]||(e[1]=d=>n(x)())},null,8,["disable"]),[[b]]),v(t(u,{rounded:"",color:"negative",label:"close"},null,512),[[b]])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{V as default};
