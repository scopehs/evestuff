import{u as Ve,r as i,c,h as N,e as Ue,n as X,m as F,C as Y,f as t,w as l,q as Ce,aD as f,z,Q as Z,j as d,l as m,x as b,aU as w,aV as _,y as p,A as L,aE as Te,v as ee,ah as ge,G as te}from"./app.10579c01.js";import{Q as E}from"./QSeparator.0566634d.js";import{Q as y}from"./QItemLabel.1f7b55df.js";import{Q as h}from"./QToggle.a02dc2d0.js";import{Q as V,a as U}from"./QSelect.32be28f9.js";import"./use-checkbox.45f82c4c.js";const Se={class:"row"},Re={class:"col"},ke={class:"text-xs"},Ae={class:"col"},He={class:"text-xs"},We={class:"row"},$e={class:"col"},De={class:"text-xs"},Fe={class:"col"},Me={class:"text-xs"},Qe=d("span",{class:"text-subtitle1"}," Here is where you select which stations, systems, constellations and regions you want to add to this list. ",-1),Ie=d("br",null,null,-1),Pe=d("span",{class:"text-subtitle2"}," If you cant find what you are looking for, make sure you have selected the correct region on the setting pannel.",-1),qe={class:"text-xs"},Oe={class:"text-xs"},Be={class:"text-xs"},je={class:"text-xs"},Xe={__name:"StationWatchListAddList",props:{edit:{type:Number,default:0},list:{type:Object,required:!1}},setup(le){const r=le;let v=Ve(),C=i(!1),T=i(null),g=i(null),S=i([]),M=i(),oe=c(()=>M.value?v.stationWatchList.filter(a=>a.text.toLowerCase().indexOf(M.value)>-1):v.stationWatchList),ae=(a,o,e)=>{o(()=>{M.value=a.toLowerCase()})},R=i([]),Q=i(),ne=c(()=>Q.value?v.systemdropdownlist.filter(a=>a.text.toLowerCase().indexOf(Q.value)>-1):v.systemdropdownlist),ie=(a,o,e)=>{o(()=>{Q.value=a.toLowerCase()})},k=i([]),I=i(),se=c(()=>I.value?v.constellationDropDownlist.filter(a=>a.text.toLowerCase().indexOf(I.value)>-1):v.constellationDropDownlist),ue=(a,o,e)=>{o(()=>{I.value=a.toLowerCase()})},A=i([]),P=i(),de=c(()=>P.value?v.regiondropdownlist.filter(a=>a.text.toLowerCase().indexOf(P.value)>-1):v.regiondropdownlist),re=(a,o,e)=>{o(()=>{P.value=a.toLowerCase()})},H=i([]),q=i(),ve=c(()=>q.value?v.roleListForWatchListSetting.filter(a=>a.text.toLowerCase().indexOf(q.value)>-1):v.roleListForWatchListSetting),pe=(a,o,e)=>{o(()=>{q.value=a.toLowerCase()})},W=i([]),O=i(),me=c(()=>O.value?v.userList.filter(a=>a.name.toLowerCase().indexOf(O.value)>-1):v.userList),xe=(a,o,e)=>{o(()=>{O.value=a.toLowerCase()})},$=i([]),B=i(),ce=c(()=>B.value?v.stationWatchListAllianceList.filter(a=>a.text.toLowerCase().indexOf(B.value)>-1):v.stationWatchListAllianceList),fe=(a,o,e)=>{o(()=>{B.value=a.toLowerCase()})},D=i([]),j=i(),be=c(()=>j.value?v.stationWatchListItemList.filter(a=>a.text.toLowerCase().indexOf(j.value)>-1):v.stationWatchListItemList),we=(a,o,e)=>{o(()=>{j.value=a.toLowerCase()})},_e=async()=>{var a={name:T.value,description:g.value,station_id:S.value,system_id:R.value,constellation_id:k.value,region_id:A.value,role_id:H.value,user_id:W.value,alliance_id:$.value,type_id:D.value};r.edit==0?await axios({method:"post",url:"/api/watchlist",withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}}):await axios({method:"put",url:"/api/watchlist/"+r.list.id,withCredentials:!0,data:a,headers:{Accept:"application/json","Content-Type":"application/json"}})},Le=()=>{C.value=!1,T.value=null,g.value=null,S.value=[],R.value=[],k.value=[],A.value=[],H.value=[],W.value=[]},ye=()=>{var a,o,e,n,s,u,x,G,J,K;r.edit==1&&(T.value=(a=r.list.name)!=null?a:null,g.value=(o=r.list.description)!=null?o:null,S.value=(e=r.list.settings.station_id)!=null?e:[],R.value=(n=r.list.settings.system_id)!=null?n:[],k.value=(s=r.list.settings.constellation_id)!=null?s:[],A.value=(u=r.list.settings.region_id)!=null?u:[],H.value=(x=r.list.settings.role_id)!=null?x:[],W.value=(G=r.list.settings.user_id)!=null?G:[],$.value=(J=r.list.settings.alliance_id)!=null?J:[],D.value=(K=r.list.settings.type_id)!=null?K:[])},he=c(()=>r.edit==0?"Add":"Update");return(a,o)=>(N(),Ue("div",null,[r.edit==0?(N(),X(F,{key:0,color:"positive",icon:"fa-solid fa-plus",label:"Add",rounded:"",onClick:o[0]||(o[0]=e=>C.value=!C.value)})):Y("",!0),r.edit==1?(N(),X(F,{key:1,color:"positive",flat:"",icon:"fa-solid fa-edit",round:"",size:"xs",onClick:o[1]||(o[1]=e=>C.value=!C.value)})):Y("",!0),t(ge,{onBeforeShow:o[12]||(o[12]=e=>m(ye)()),onBeforeHide:o[13]||(o[13]=e=>m(Le)()),modelValue:C.value,"onUpdate:modelValue":o[14]||(o[14]=e=>C.value=e),persistent:""},{default:l(()=>[t(Ce,{class:"myRoundTop",style:{"max-width":"1000px"}},{default:l(()=>[t(f,{class:"bg-primary text-center text-h4 q-pa-none"},{default:l(()=>[z(" Make a WatchList ")]),_:1}),t(f,null,{default:l(()=>[t(Z,{modelValue:T.value,"onUpdate:modelValue":o[2]||(o[2]=e=>T.value=e),dense:"",type:"text",label:"Name of Watch List"},null,8,["modelValue"])]),_:1}),t(f,null,{default:l(()=>[t(Z,{modelValue:g.value,"onUpdate:modelValue":o[3]||(o[3]=e=>g.value=e),dense:"",type:"text",label:"What is this list for"},null,8,["modelValue"])]),_:1}),t(E,{color:"webChip"}),t(f,{class:"text-center text-subtitle1"},{default:l(()=>[z(" Here is where you select which roles and users can see this list ")]),_:1}),t(f,null,{default:l(()=>[d("div",Se,[d("div",Re,[t(V,{modelValue:H.value,"onUpdate:modelValue":o[4]||(o[4]=e=>H.value=e),"option-label":"text","option-value":"value",label:"Roles with access",options:ve.value,onFilter:m(pe),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"rolesDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",ke,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),d("div",Ae,[t(V,{modelValue:W.value,"onUpdate:modelValue":o[5]||(o[5]=e=>W.value=e),"option-label":"name","option-value":"id",label:"Users with access",options:me.value,onFilter:m(xe),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"usersDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.name},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",He,L(e.opt.name),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])])]),_:1}),t(E,{color:"webChip"}),t(f,{class:"text-center text-subtitle1"},{default:l(()=>[z(" Here you select the Owership and Type of stations ")]),_:1}),t(f,null,{default:l(()=>[d("div",We,[d("div",$e,[t(V,{modelValue:$.value,"onUpdate:modelValue":o[6]||(o[6]=e=>$.value=e),"option-label":"text","option-value":"value",label:"Alliance",options:ce.value,onFilter:m(fe),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"aliianceDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",De,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),d("div",Fe,[t(V,{modelValue:D.value,"onUpdate:modelValue":o[7]||(o[7]=e=>D.value=e),"option-label":"text","option-value":"value",label:"Station Type",options:be.value,onFilter:m(we),"emit-value":"","map-options":"",rounded:"",standout:"",dense:"","input-debounce":"0","label-color":"webway",ref:"TypeDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",Me,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])])])]),_:1}),t(E,{color:"webChip"}),t(f,{class:"text-center"},{default:l(()=>[Qe,Ie,Pe]),_:1}),t(f,null,{default:l(()=>[t(V,{modelValue:S.value,"onUpdate:modelValue":o[8]||(o[8]=e=>S.value=e),"option-label":"text","option-value":"value",label:"Stations",options:oe.value,onFilter:m(ae),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"stationsDropDown","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",qe,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(V,{modelValue:R.value,"onUpdate:modelValue":o[9]||(o[9]=e=>R.value=e),"option-label":"text","option-value":"value",label:"Systems",options:ne.value,onFilter:m(ie),"emit-value":"","map-options":"",rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway",ref:"system","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",Oe,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(V,{modelValue:k.value,"onUpdate:modelValue":o[10]||(o[10]=e=>k.value=e),dense:"","option-label":"text","option-value":"value",label:"Constellations",options:se.value,onFilter:m(ue),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"constelations","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",Be,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"]),t(V,{modelValue:A.value,"onUpdate:modelValue":o[11]||(o[11]=e=>A.value=e),dense:"","option-label":"text",regiondropdownlist:"",label:"Regions",options:de.value,onFilter:m(re),"emit-value":"","map-options":"",rounded:"",standout:"","input-debounce":"0","label-color":"webway",ref:"regions","use-input":"","use-chips":"",multiple:"",style:{width:"100%"}},{option:l(({itemProps:e,opt:n,selected:s,toggleOption:u})=>[t(b,w(_(e)),{default:l(()=>[t(p,null,{default:l(()=>[t(y,{innerHTML:n.text},null,8,["innerHTML"])]),_:2},1024),t(p,{side:""},{default:l(()=>[t(h,{"model-value":s,"onUpdate:modelValue":x=>u(n)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040)]),"selected-item":l(e=>[t(U,{removable:"",onRemove:n=>e.removeAtIndex(e.index),tabindex:e.tabindex,color:"webWay","text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",je,L(e.opt.text),1)]),_:2},1032,["onRemove","tabindex"])]),_:1},8,["modelValue","options","onFilter"])]),_:1}),t(Te,{align:"around"},{default:l(()=>[ee(t(F,{rounded:"",color:"positive",label:he.value,onClick:m(_e)},null,8,["label","onClick"]),[[te]]),ee(t(F,{rounded:"",color:"negative",label:"close"},null,512),[[te]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{Xe as default};
