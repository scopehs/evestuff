import{u as q,r as o,c as w,h as O,e as U,f as t,l as i,m as f,w as l,q as j,aD as h,j as d,Q as A,x as B,bk as M,y as Q,A as R,aE as F,v as y,ah as H,G as k}from"./app.10579c01.js";import{Q as $}from"./QItemLabel.1f7b55df.js";import{Q as N}from"./QToggle.a02dc2d0.js";import{Q as z,a as G}from"./QSelect.32be28f9.js";import"./use-checkbox.45f82c4c.js";const J=d("h4",{class:"no-margin"},"Edit your Mulit-Campaign Here",-1),K={class:"text-xs"},ae={__name:"EditOperation",props:{operation:Object},setup(p){const v=p;let r=q(),m=o(!1),g=o(),c=o(),s=o([]),V=w(()=>c.value?r.newCampaignsList.filter(e=>e.text.toLowerCase().indexOf(c.value)>-1):r.newCampaignsList),L=()=>{s.value=v.operation.campaign.map(e=>e.id),m.value=!0},_=(e,n,a)=>{n(()=>{c.value=e.toLowerCase(),C.value.length>0&&e&&(T.value=C.value[0])})},T=o(null),x=o(),C=w(()=>x.value?r.newCampaignsList.filter(e=>e.text.toLowerCase().indexOf(x.value)>-1):r.newCampaignsList),D=e=>e.standing<0?"red":e.standing>0?"blue":"webChip",S=e=>{if(e.standing>=2)return"bg-blue";if(e.standing==1)return"bg-red"},E=async()=>{var e={OpID:v.operation.id,title:g.value,picked:s.value};await axios({method:"post",url:"/api/editoperation",withCredentials:!0,data:e,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(b)},b=()=>{g.value=null,s.value=[]};return(e,n)=>(O(),U("div",null,[t(f,{color:"none","text-color":"warning",icon:"fa-solid fa-pen-to-square",size:"xs",flat:"",round:"",onClick:n[0]||(n[0]=a=>i(L)())}),t(H,{modelValue:m.value,"onUpdate:modelValue":n[3]||(n[3]=a=>m.value=a),persistent:""},{default:l(()=>[t(j,{class:"myRoundTop",style:{width:"1500px","max-width":"80vw"}},{default:l(()=>[t(h,{class:"bg-primary text-h5 text-center"},{default:l(()=>[J]),_:1}),t(h,null,{default:l(()=>[d("div",null,[t(A,{class:"q-mb-md",modelValue:p.operation.title,"onUpdate:modelValue":n[1]||(n[1]=a=>p.operation.title=a),type:"text",label:"Title",rounded:"",dense:"",outlined:"",autofocus:""},null,8,["modelValue"])]),d("div",null,[t(z,{rounded:"",dense:"",standout:"","input-debounce":"0","label-color":"webway","option-value":"value","option-label":"text",modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=a=>s.value=a),options:V.value,label:"Region",ref:"regionDropDown",onFilter:i(_),"map-options":"","use-input":"","use-chips":"",multiple:""},{option:l(({itemProps:a,opt:u,selected:I,toggleOption:P})=>[t(B,M(a,{class:i(S)(u)}),{default:l(()=>[t(Q,null,{default:l(()=>[t($,{innerHTML:u.text},null,8,["innerHTML"])]),_:2},1024),t(Q,{side:""},{default:l(()=>[t(N,{"model-value":I,"onUpdate:modelValue":W=>P(u)},null,8,["model-value","onUpdate:modelValue"])]),_:2},1024)]),_:2},1040,["class"])]),"selected-item":l(a=>[t(G,{removable:"",onRemove:u=>a.removeAtIndex(a.index),tabindex:a.tabindex,color:i(D)(a.opt),"text-color":"white",class:"q-ma-none"},{default:l(()=>[d("span",K,R(a.opt.text),1)]),_:2},1032,["onRemove","tabindex","color"])]),_:1},8,["modelValue","options","onFilter"])])]),_:1}),t(F,{align:"right"},{default:l(()=>[y(t(f,{rounded:"",color:"primary",label:"Submit",onClick:i(E)},null,8,["onClick"]),[[k]]),y(t(f,{rounded:"",color:"negative",label:"Close",onClick:i(b)},null,8,["onClick"]),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}};export{ae as default};
