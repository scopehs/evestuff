import{u as O,c as a,h as r,e as s,f as o,w as n,n as _,p as w,s as g,F as x,t as D,v as I,x as P,l as A,y as B,z as Q,A as m,m as S,aP as b,G as F}from"./app.10579c01.js";const j={__name:"AddPilot",props:{node:Object,operationID:Number},setup(d){const e=d;let i=O(),l=a(()=>e.node.prime_node_user.length),f=a(()=>{var t=i.getOwnHackingCharOnOp(e.operationID);return t?t.length:0}),v=a(()=>{var t=i.getOwnHackingCharOnOp(e.operationID);return t||[]}),h=a(()=>l.value==0&&f.value!=0&&e.node.node_status.id!=4&&e.node.node_status.id!=5&&e.node.node_status.id!=7&&e.node.node_status.id!=8),u=a(()=>l.value>0?e.node.prime_node_user[0]:null),k=a(()=>u.value?u.value.op_user.name:""),y=async t=>{var c={node_id:e.node.id,op_user_id:t,system_id:e.node.system_id,opID:e.operationID};await axios({method:"POST",url:"/api/addusertonode",withCredentials:!0,data:c,headers:{Accept:"application/json","Content-Type":"application/json"}})};return(t,c)=>(r(),s("div",null,[o(b,{mode:"out-in","enter-active-class":"animate__animated animate__flash"},{default:n(()=>[h.value?(r(),_(S,{key:`${e.node.id}-1-addpilot`,color:"positive",outline:"",class:"myOutLineButton",label:"Add",rounded:""},{default:n(()=>[o(w,null,{default:n(()=>[o(g,{style:{"min-width":"100px"}},{default:n(()=>[(r(!0),s(x,null,D(v.value,(p,C)=>I((r(),_(P,{clickable:"",key:C,onClick:N=>A(y)(p.id)},{default:n(()=>[o(B,null,{default:n(()=>[Q(m(p.name),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[F]])),128))]),_:1})]),_:1})]),_:1})):(r(),s("span",{key:`${d.node.id}-2-addpilot`},m(k.value),1))]),_:1})]))}};export{j as default};
