import{u as q,r as f,ay as O,c as u,h as Q,e as $,f as t,w as a,p as A,l as i,q as D,aD as v,m as h,z as c,n as E,C as P,aE as U,v as I,j as r,G as M}from"./app.10579c01.js";import{Q as B}from"./QSelect.32be28f9.js";import{Q as z}from"./QToggle.a02dc2d0.js";import{Q as H}from"./QSlideTransition.6d4d03a3.js";import"./QItemLabel.1f7b55df.js";import"./use-checkbox.45f82c4c.js";const G=r("br",null,null,-1),J=r("br",null,null,-1),K=r("span",{class:"text-bold"}," Character not in the dropdown:",-1),W=r("br",null,null,-1),X=r("br",null,null,-1),Y=r("br",null,null,-1),Z=r("span",{class:"text-bold"},"If the character is own by someone else:",-1),ee=r("br",null,null,-1),te=r("br",null,null,-1),le=r("br",null,null,-1),de={__name:"AddOperationReconButton",setup(ae){let s=q(),o=f(""),d=f(),p=f(!1);const y=O();let C=u(()=>{var l=s.operationInfoRecon.filter(e=>e.operation_info_id!=s.operationInfoPage.id);return l}),g=u(()=>s.userList),m=f(),x=u(()=>m.value?C.value.filter(l=>l.name.toLowerCase().indexOf(m.value)>-1):C.value),L=(l,e,n)=>{e(()=>{m.value=l.toLowerCase(),x.value.length==0&&(o.value=m.value)})},b=f(),_=u(()=>b.value?g.value.filter(l=>l.name.toLowerCase().indexOf(b.value)>-1):g.value),T=(l,e,n)=>{e(()=>{b.value=l.toLowerCase(),_.value.length>0&&l&&(d.value=_.value[0])})},j=async()=>{if(F.value=="string")var l=o.value;else var l=o.value.name;if(p.value)var e=d.value.id;else var e=s.user_id;var n={name:l,user_id:e,opID:s.operationInfoPage.id};await axios({method:"post",url:"/api/operationinforecon",withCredentials:!0,data:n,headers:{Accept:"application/json","Content-Type":"application/json"}}).then(R=>{var S=R.status;if(S==201){var w=l+" not found";o.value="",y.notify({type:"negative",message:w})}else{var w=l+" added";o.value="",y.notify({type:"positive",message:w})}})},k=()=>{o.value="",d.value=null,p.value=!1},N=u(()=>F.value!="object"),F=u(()=>typeof o.value),V=()=>{};return(l,e)=>(Q(),$("div",null,[t(h,{size:"lg",padding:"none",rounded:"",icon:"add",color:"accent"},{default:a(()=>[t(A,{class:"myRound",onBeforeHide:e[5]||(e[5]=n=>i(k)()),persistent:""},{default:a(()=>[t(D,{class:"myRound"},{default:a(()=>[t(v,null,{default:a(()=>[t(h,{color:"primary",icon:"fa-solid fa-circle-info",label:"How To add Cynos",rounded:""},{default:a(()=>[t(A,null,{default:a(()=>[t(D,{flat:""},{default:a(()=>[t(v,{class:"text-webway"},{default:a(()=>[c(" If you have added a Cyno before you will find the characters in the drop down list below. Just select it and press ADD"),G,J,K,W,c(" If you own the character just enter the fullname in the dropdown list and hit ADD."),X,Y,Z,ee,c(' Enter the fullname in the drop down list, then toggle the "Add Main"'),te,c("Once toggled a new dropdown should show, find the main character in the dropdown list select it and press add"),le,c("If you cant find the name, that means the person has never logged into the site. ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:a(()=>[t(B,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value=n),"option-label":"name","option-value":"id",options:x.value,label:"Cyno Character",onFilter:i(L),onFilterAbort:i(V),"new-value-mode":"add-unique",outlined:"",rounded:"","input-style":"max-width: 15px",dense:"","use-input":N.value,onClear:e[1]||(e[1]=n=>o.value=""),clearable:""},null,8,["modelValue","options","onFilter","onFilterAbort","use-input"])]),_:1}),t(v,null,{default:a(()=>[t(z,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=n=>p.value=n),color:"green",label:"Add Main"},null,8,["modelValue"])]),_:1}),t(v,null,{default:a(()=>[t(H,null,{default:a(()=>[p.value?(Q(),E(B,{key:0,modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=n=>d.value=n),"option-label":"name","option-value":"id",options:_.value,label:"Main Character",onFilter:i(T),onFilterAbort:i(V),outlined:"",rounded:"","input-style":"max-width: 15px",clearable:"","use-input":"",dense:""},null,8,["modelValue","options","onFilter","onFilterAbort"])):P("",!0)]),_:1})]),_:1}),t(U,{align:"center"},{default:a(()=>[I(t(h,{color:"positive",label:"Submit",onClick:e[4]||(e[4]=n=>i(j)()),rounded:""},null,512),[[M]]),I(t(h,{label:"Close",rounded:"",color:"negative"},null,512),[[M]])]),_:1})]),_:1})]),_:1})]),_:1})]))}};export{de as default};
